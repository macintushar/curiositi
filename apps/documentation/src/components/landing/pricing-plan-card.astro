---
export interface Props {
  title: string;
  description: string;
  price: string;
  priceSuffix?: string;
  features: string[];
  isPopular?: boolean;
  ctaText: string;
  ctaVariant?: "default" | "outline";
  ctaHref?: string;
  ctaHrefExternal?: boolean;
  className?: string;
}

const {
  title,
  description,
  price,
  priceSuffix = " /month",
  features,
  isPopular,
  ctaText,
  ctaVariant = "default",
  ctaHref,
  ctaHrefExternal = false,
  className
} = Astro.props;
---

<div class={`bg-card rounded-lg border shadow-sm transition-all hover:shadow-md ${isPopular ? 'relative shadow-lg hover:shadow-xl' : ''} ${className || ''}`}>
  <div class="p-6">
    <h3 class="text-2xl font-semibold">{title}</h3>
    <p class="text-muted-foreground mt-2">{description}</p>
  </div>

  <div class="px-6 pb-6">
    {price && (
      <div class="mb-6">
        <span class="text-4xl font-medium">{price}</span>
        {price !== "Custom" && (
          <span class="text-muted-foreground">{priceSuffix}</span>
        )}
      </div>
    )}

    {isPopular && (
      <div class="bg-primary text-primary-foreground absolute -top-4 right-0 left-0 mx-auto w-fit rounded-full px-4 py-1 text-sm font-medium">
        Most Popular
      </div>
    )}

    <ul class="space-y-2 mb-6">
      {features.map((feature) => (
        <li class="flex items-center gap-2">
          <svg class="text-brand size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          {feature}
        </li>
      ))}
    </ul>

    <div class="pt-4">
      <a
        href={ctaHref ?? "#"}
        target={ctaHrefExternal ? "_blank" : "_self"}
        rel={ctaHrefExternal ? "noopener noreferrer" : undefined}
        class={`inline-flex items-center justify-center w-full px-8 py-3 rounded-full font-medium transition-colors ${
          ctaVariant === "outline"
            ? "border border-input bg-background hover:bg-accent hover:text-accent-foreground"
            : "bg-primary text-primary-foreground hover:bg-primary/90"
        }`}
      >
        <slot name="ctaExtra" />
        {ctaText}
      </a>
    </div>
  </div>
</div>